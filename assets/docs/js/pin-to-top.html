<!DOCTYPE html>

<html>
<head>
  <title>pin-to-top.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>pin-to-top.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p> <strong>Pins an element to the top of the screen on scroll.</strong>
Requires pinned element to have <code>.js-pin-to-top</code> class, and an
adjacent <code>#js-pin-to-top-anchor</code> element to keep track of its
original position in the document while pinned.</p>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Get the global NEUE object and attach our function to it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>window.NEUE = window.NEUE || {};
window.NEUE.pinToTop = <span class="keyword">function</span>() {
  <span class="string">"use strict"</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>We cache the element anchor&quot;s offset from the top of the page</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> divTop = $(<span class="string">"#js-pin-to-top-anchor"</span>).offset().top;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>We compare the distance to the top of the page with the distance scrolled.
If we have scrolled past the anchor element, we apply CSS class to pin the element to top.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="keyword">var</span> stickyRelocate = <span class="keyword">function</span>() {
    <span class="keyword">if</span> ($(window).scrollTop() &gt; divTop) {
      $(<span class="string">".js-pin-to-top"</span>).addClass(<span class="string">"is-stuck"</span>);
    } <span class="keyword">else</span> {
      $(<span class="string">".js-pin-to-top"</span>).removeClass(<span class="string">"is-stuck"</span>);
    }
  };

  $(window).on(<span class="string">"scroll"</span>, stickyRelocate);</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Run the function on initialization, in case window position is already scrolled on page load.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  stickyRelocate();
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
